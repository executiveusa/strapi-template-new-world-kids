# ================================================================================
# LOCAL DEVELOPMENT ENVIRONMENT OVERRIDES
# ================================================================================
# This file overrides values from .env for local development only.
# Copy this to .env.local and customize for your local machine.
# Never commit .env.local to version control!
# ================================================================================

# ============================================
# LOCAL DEVELOPMENT SETTINGS
# ============================================
NODE_ENV=development
APP_DEBUG=true
APP_LOG_LEVEL=debug

# Local URLs
APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================
# LOCAL DATABASE CONNECTIONS
# ============================================
# Option 1: Docker PostgreSQL
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/newworldkids_dev
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=newworldkids_dev
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=postgres

# Option 2: Docker host (when running inside container)
# DATABASE_HOST=host.docker.internal

# Option 3: Supabase local (via Docker)
# DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# ============================================
# LOCAL REDIS
# ============================================
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
# No password for local Redis
REDIS_PASSWORD=

# ============================================
# DEBUG FLAGS
# ============================================
DEBUG=*
DEBUG_COLORS=true
DEBUG_HIDE_DATE=false

# Next.js debugging
NEXT_DEBUG=true

# Prisma debugging
DEBUG_PRISMA=true
PRISMA_LOG_LEVEL=query

# ============================================
# MOCK SERVICES (for offline development)
# ============================================
# Set to true to use mock data instead of real APIs
USE_MOCK_DATA=false
MOCK_AUTH=false
MOCK_PAYMENTS=false
MOCK_EMAIL=true
MOCK_ANALYTICS=true

# ============================================
# LOCAL SERVICE PORTS
# ============================================
# Change these if you have port conflicts
WEB_PORT=3000
STREAM_PORT=3001
BLOCKCHAIN_PORT=3002
AI_AGENTS_PORT=3003
STELLAR_AGENTS_PORT=3004
BIG3_ORCHESTRATOR_PORT=3010
BROWSER_SERVICE_PORT=3013

# ============================================
# LOCAL CMS (Ghost)
# ============================================
# For local Ghost development instance
GHOST_CONTENT_API_URL=http://localhost:2368
GHOST_CONTENT_API_KEY=local-development-key
NEXT_PUBLIC_GHOST_URL=http://localhost:2368

# ============================================
# DOCKER HOST CONFIGURATION
# ============================================
# Use when services need to communicate with host machine
DOCKER_HOST_IP=host.docker.internal

# Docker Compose project name
COMPOSE_PROJECT_NAME=newworldkids-dev

# ============================================
# HOT RELOAD SETTINGS
# ============================================
# Fast refresh for Next.js
FAST_REFRESH=true

# Watchpack polling (for WSL/Docker file watching issues)
WATCHPACK_POLLING=true
CHOKIDAR_USEPOLLING=true

# ============================================
# LOCAL SSL (for testing HTTPS locally)
# ============================================
# Set to true if using mkcert for local HTTPS
LOCAL_HTTPS=false
SSL_CERT_PATH=./certs/localhost.pem
SSL_KEY_PATH=./certs/localhost-key.pem

# ============================================
# RATE LIMITING (relaxed for development)
# ============================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000
DISABLE_RATE_LIMIT=true

# ============================================
# CORS (permissive for local development)
# ============================================
CORS_ORIGINS=*
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000

# ============================================
# LOCAL AI SERVICES (optional)
# ============================================
# Use local Ollama for AI instead of cloud APIs
USE_LOCAL_LLM=false
OLLAMA_URL=http://localhost:11434
LOCAL_LLM_MODEL=llama2

# ============================================
# TESTING
# ============================================
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/newworldkids_test
PLAYWRIGHT_TEST_BASE_URL=http://localhost:3000
CYPRESS_BASE_URL=http://localhost:3000

# Skip certain checks in development
SKIP_ENV_VALIDATION=true
SKIP_TYPE_CHECK=false
SKIP_LINT=false

# ============================================
# SEED DATA
# ============================================
# Load seed data on startup
SEED_DATABASE=false
SEED_ADMIN_EMAIL=admin@localhost
SEED_ADMIN_PASSWORD=devpassword123

# ============================================
# FEATURE FLAGS (development overrides)
# ============================================
ENABLE_DEV_TOOLS=true
ENABLE_REACT_DEVTOOLS=true
ENABLE_REDUX_DEVTOOLS=true
SHOW_DEBUG_PANEL=true

# ============================================
# LOGGING
# ============================================
LOG_FORMAT=pretty
LOG_LEVEL=debug
LOG_SQL_QUERIES=true
LOG_HTTP_REQUESTS=true

# ================================================================================
# END OF LOCAL CONFIGURATION
# ================================================================================
